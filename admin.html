<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>Admin | ‡∏Ñ‡∏£‡∏π‡πÑ‡∏•‡∏•‡∏≤‡∏Ç‡∏≤‡∏¢‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>
  <link rel="stylesheet" href="styles.css" />

  <!-- ‚úÖ Firebase (‡πÄ‡∏â‡∏û‡∏≤‡∏∞ App + Firestore ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

  <!-- ‚úÖ Firebase Config -->
  <script>
    window.firebaseConfig = {
      apiKey: "AIzaSyAoMKMzM1-Ya6FF5M649IslWo_eNtQBSQg",
      authDomain: "laila-18024.firebaseapp.com",
      projectId: "laila-18024",
      storageBucket: "", // ‚ùå ‡∏•‡∏ö Firebase Storage ‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß
      messagingSenderId: "44350993909",
      appId: "1:44350993909:web:49aa8e4e787da32f509cbc",
    };

    /* ‚úÖ Google Apps Script Upload API (‡∏ü‡∏£‡∏µ) */
    window.GAS_UPLOAD_URL = "https://script.google.com/macros/s/AKfycbzXfuh63UbJXwi7TZWXUQ6fHDYenDfiKqJx872lDH0Jba9QATiFNQJENwmsdbZqsG4Q/exec";
    window.DRIVE_FOLDER_ID = "1PVMVr4mQ_4B68l5Ng9nsdydxGViINoab";
  </script>

  <script src="app.js" defer></script>
</head>

<body class="theme light">
  <header class="topbar glass">
    <div class="brand">‡∏Ñ‡∏£‡∏π‡πÑ‡∏•‡∏•‡∏≤‡∏Ç‡∏≤‡∏¢‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô ‚Äî Admin</div>
    <a class="admin-link btn btn-ghost" href="index.html">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö</a>
  </header>

  <main class="container">

    <!-- üîê ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö -->
    <section id="loginBox" class="card glass">
      <h3>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</h3>
      <div class="row">
        <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
        <input type="password" id="password" class="input" placeholder="admin123" />
      </div>
      <div class="row">
        <button id="loginBtn" class="btn">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
        <button id="resetBtn" class="btn btn-ghost">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</button>
      </div>
      <div class="muted small">
        ‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: <b>admin123</b>  
        (‡∏ù‡∏±‡πà‡∏á client ‚Äî ‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤ Security Rules ‡πÉ‡∏ô Firebase ‡∏î‡πâ‡∏ß‡∏¢)
      </div>
    </section>

    <!-- üß≠ ‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏á‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô -->
    <section id="adminBox" class="card glass" style="display:none">
      <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® (‡∏ã‡∏¥‡∏á‡∏Å‡πå‡∏ú‡πà‡∏≤‡∏ô Firebase)</h3>
      <div class="notice small">
        ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö <b>‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</b> ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‚Äî ‡∏Å‡∏≤‡∏£ <b>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</b> ‡∏ó‡∏≥‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
      </div>

      <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡πÉ‡∏´‡∏°‡πà -->
      <form id="listingForm" class="grid">
        <div><label>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</label><input id="f_title" class="input" required /></div>
        <div>
          <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
          <select id="f_type" class="input"></select>
        </div>
        <div><label>‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)</label><input id="f_price" class="input" type="number" min="0" /></div>
        <div>
          <label>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏£‡∏≤‡∏Ñ‡∏≤</label>
          <select id="f_priceUnit" class="input">
            <option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á</option><option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏•‡∏±‡∏á</option><option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á</option>
            <option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡πÑ‡∏£‡πà</option><option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ß‡∏≤</option><option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏¢‡∏Å‡πÅ‡∏õ‡∏•‡∏á</option>
          </select>
        </div>
        <div class="full"><label>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</label><textarea id="f_desc" class="input" rows="3"></textarea></div>
        <div class="full"><label>‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå Facebook</label><input id="f_fbUrl" class="input" placeholder="https://www.facebook.com/..." /></div>

        <div class="full">
          <label>‡∏•‡∏¥‡∏á‡∏Å‡πå Google Maps</label>
          <input id="f_gmap" class="input" placeholder="https://maps.google.com/..." />
          <small class="muted">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå</small>
        </div>
        <div><label>‡∏•‡∏∞‡∏ï‡∏¥‡∏à‡∏π‡∏î</label><input id="f_lat" class="input" /></div>
        <div><label>‡∏•‡∏≠‡∏á‡∏à‡∏¥‡∏à‡∏π‡∏î</label><input id="f_lng" class="input" /></div>

        <div class="full">
          <label>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ)</label>
          <input type="file" id="f_imgs" class="input" accept="image/*" multiple />
          <div id="imgsPrev" class="preview-grid"></div>
        </div>

        <div class="full btn-row">
          <button type="button" id="saveBtn" class="btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà)</button>
          <button type="button" id="exportBtn" class="btn btn-ghost">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å JSON</button>
          <input type="file" id="importFile" accept="application/json" style="display:none" />
          <button type="button" id="importBtn" class="btn btn-ghost">‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ JSON</button>
        </div>
      </form>

      <!-- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó -->
      <section class="card glass" style="margin-top:8px">
        <h4>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</h4>
        <div class="row">
          <input id="typeInput" class="input" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏î / ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå" />
          <button id="typeAddBtn" class="btn">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</button>
        </div>
        <div id="typeChips" class="chip-list small" style="margin-top:8px;"></div>
      </section>

      <h4>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h4>
      <div id="tableWrap" class="table-wrap glass"></div>
      <div id="allMap" class="map-embed glass" style="height: 360px; margin-top:12px;"></div>
    </section>

    <!-- üß± Edit Modal -->
    <div id="editModal" class="modal" style="display:none;">
      <div class="modal-content glass">
        <div class="modal-head">
          <b>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®</b>
          <button id="closeEdit" class="btn-ghost">‡∏õ‡∏¥‡∏î</button>
        </div>
        <div class="modal-body">
          <form id="editForm" class="grid">
            <input type="hidden" id="e_id" />
            <div><label>‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</label><input id="e_title" class="input" required /></div>
            <div>
              <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
              <select id="e_type" class="input"></select>
            </div>
            <div><label>‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó)</label><input id="e_price" class="input" type="number" min="0" /></div>
            <div>
              <label>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏£‡∏≤‡∏Ñ‡∏≤</label>
              <select id="e_priceUnit" class="input">
                <option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á</option><option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏´‡∏•‡∏±‡∏á</option><option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á</option>
                <option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡πÑ‡∏£‡πà</option><option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ß‡∏≤</option><option>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏¢‡∏Å‡πÅ‡∏õ‡∏•‡∏á</option>
              </select>
            </div>
            <div class="full"><label>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢</label><textarea id="e_desc" class="input" rows="3"></textarea></div>
            <div class="full"><label>‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÇ‡∏û‡∏™‡∏ï‡πå Facebook</label><input id="e_fbUrl" class="input" placeholder="https://www.facebook.com/..." /></div>

            <div class="full">
              <label>‡∏•‡∏¥‡∏á‡∏Å‡πå Google Maps</label>
              <input id="e_gmap" class="input" placeholder="https://maps.google.com/..." />
              <small class="muted">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå</small>
            </div>
            <div><label>‡∏•‡∏∞‡∏ï‡∏¥‡∏à‡∏π‡∏î</label><input id="e_lat" class="input" /></div>
            <div><label>‡∏•‡∏≠‡∏á‡∏à‡∏¥‡∏à‡∏π‡∏î</label><input id="e_lng" class="input" /></div>

            <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà -->
            <div class="full">
              <label>‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡∏π‡πà</label>
              <div id="e_imgsList" class="preview-grid"></div>
              <small class="small">‡∏Ñ‡∏•‡∏¥‡∏Å ‚Äú‡∏•‡∏ö‡∏£‡∏π‡∏õ‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Google Drive ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ô‡∏µ‡πâ</small>
            </div>

            <!-- ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏° -->
            <div class="full">
              <label>‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÄ‡∏û‡∏¥‡πà‡∏° (‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ)</label>
              <input type="file" id="e_imgs" class="input" accept="image/*" multiple />
              <div id="e_imgsPrev" class="preview-grid"></div>
            </div>

            <div class="full btn-row">
              <button type="button" id="e_updateBtn" class="btn">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï</button>
              <button type="button" id="e_deleteBtn" class="btn-ghost">‡∏•‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ô‡∏µ‡πâ</button>
            </div>
          </form>
        </div>
      </div>
    </div>

  </main>

  <footer class="footer muted small">
    ¬© <span id="year"></span> ‡∏Ñ‡∏£‡∏π‡πÑ‡∏•‡∏•‡∏≤‡∏Ç‡∏≤‡∏¢‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô ‚Äî Admin
  </footer>
</body>
</html>
